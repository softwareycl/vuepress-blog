# JS

#### JavaScript是单线程的原因

js的设计初衷是作为浏览器的脚本语言，浏览器中涉及到与用户互动、频繁操作DOM等动作，如果js设计为多线程，会有很复杂的线程同步问题，即使同步问题被解决，也会降低浏览器的响应效率，得不偿失，因此，JavaScript被设计为单线程保证浏览器动作的一致性。

#### 什么是闭包？闭包的用途？

**闭包：** 函数嵌套函数，内部函数可以引用外部函数的参数和变量。参数和变量不会被垃圾回收机制收回。

**用途：**

1. 可以让一个变量长期在内存中不被释放
2. 避免全局变量的污染，但和全局变量不同，闭包中的变量无法被外部使用
3. 私有成员的存在，无法被外部调用，只能直接内部调用

**具体功能：** 1.防抖、2.节流、3.函数柯里化

#### 事件循环原理

js引擎遇到一个异步事件之后不会一直等待事件的返回结果，而是将事件挂起，继续执行执行栈中的其他任务。

当异步事件返回结果时，js将异步事件callback函数放入队列中，被放入队列中的异步事件不会立即回调，等到当前执行栈中的任务都执行完成，处于闲置状态的主线程按照队列顺序将处于首位事件的callback函数放入执行栈中，执行该函数的同步代码，如果遇到了异步事件，同样也会将其回调函数放入事件队列中。

如此反复，就形成了一个无限循环，这也是被称为“事件循环（EventLoop)”的原因。